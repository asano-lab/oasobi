let num_input,draw_button,random_button,signal_path,random;function _main(){const now=new Date;random=new RandomMT(now.getTime()),num_input=document.getElementById("num1"),draw_button=document.getElementById("Button1"),random_button=document.getElementById("Button2"),draw_button.onclick=Macro.drawGraph,random_button.onclick=Macro.drawRandom,style.stroke="red",style.strokeWidth=3,setRange(-1,20,-3,3),axis("full",1,1,0,0),Macro.drawGraph()}function code2vertices(code){if(!code.length)return[];let vertices=[[0,code[0]],[1,code[0]]];for(let i=1;i<code.length;i++)code[i-1]!=code[i]&&vertices.push([i,code[i]]),vertices.push([i+1,code[i]]);return vertices}function str2bin(str){let bin_arr=[];for(let i=0;i<str.length;i++)if("0"==str[i])bin_arr.push(0);else{if("1"!=str[i]){bin_arr=[];break}bin_arr.push(1)}return bin_arr}function _drawGraph(){null!=signal_path&&(signal_path.remove(),console.log(signal_path));const tmp_array=str2bin(num_input.value),vertices=code2vertices(tmp_array);signal_path=path(vertices)}function _drawRandom(){const r=1048575&random.next();let r_str=r.toString(2);for(let i=r_str.length;i<20;i++)r_str="0"+r_str;num_input.value=r_str,Macro.drawGraph()}